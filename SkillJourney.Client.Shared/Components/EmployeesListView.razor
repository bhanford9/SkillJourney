@using SkillJourney.ViewModels.Users
@inherits ComponentBase
@inject IDialogService DialogService
@page "/employees"

<MudContainer class="mt-4" MaxWidth="@MaxWidth.Medium">
    <MudDataGrid Items="@ViewModel.Employees"
                 Dense="true"
                 SortMode="SortMode.Single"
                 Filterable="true">
        <ToolBarContent>
            <MudText Typo="Typo.h6">Employees</MudText>
            <MudSpacer />
        </ToolBarContent>
        <Columns>
            <PropertyColumn Property="x => x.Name" Sortable="true" SortBy="@(x => x.Name)" Title="Name" />
            <PropertyColumn Property="x => x.Title.Name" Sortable="true" SortBy="@(x => x.Title.Name)" Title="Title" />
            <TemplateColumn Filterable="false" @bind-Hidden="ViewModel.CannotViewProfiles">
                <CellTemplate>
                    <MudStack Row>
                        <MudSpacer />
                        <MudButton Variant="Variant.Filled" Color="Color.Primary">View Profile</MudButton>
                    </MudStack>
                </CellTemplate>
            </TemplateColumn>
        </Columns>
    </MudDataGrid>
</MudContainer>


